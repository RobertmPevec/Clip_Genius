<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Design Specification</title>
</head>

<body>
    <main>
        <h1>Design Specification Document for</h1>
        <span class="text-8xl mb-[50px] font-bold">Clip Genius</span>
        <hr>
        <h2>Introduction</h2>
        <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Vero culpa aspernatur quisquam voluptatibus
            recusandae sit explicabo amet? Esse nostrum voluptatem laudantium deserunt dolores cum, vel, ratione
            dignissimos iste, odit nam?</p>

        <h2>Score Detection Module</h2>
        <p>This module, ImageProcessingFunctions, is designed for image and video processing, specifically for detecting
            and analyzing scoreboards in video frames. It uses a combination of computer vision techniques (OpenCV) and
            Optical Character Recognition (OCR) via Tesseract to extract and process score information.</p>
        <h4>Work Flow</h4>
        <ol start="1">
            <li>
                <p><strong>Scoreboard Detection</strong>:</p>
                <ul>
                    <li>
                        <p>The scoreboard region is detected using edge detection and Hough Line Transform.</p>
                    </li>
                    <li>
                        <p>The coordinates of the scoreboard are extracted.</p>
                    </li>
                </ul>
            </li>
            <li>
                <p><strong>Score Extraction</strong>:</p>
                <ul>
                    <li>
                        <p>OCR is used to detect the numeric score ("0") within the scoreboard region.</p>
                    </li>
                    <li>
                        <p>The coordinates of the detected scores are converted to absolute coordinates.</p>
                    </li>
                </ul>
            </li>
            <li>
                <p><strong>Video Processing</strong>:</p>
                <ul>
                    <li>
                        <p>The video is processed frame by frame.</p>
                    </li>
                    <li>
                        <p>The score value is extracted from each frame using OCR.</p>
                    </li>
                    <li>
                        <p>Changes in the score value are detected and logged.</p>
                    </li>
                </ul>
            </li>
        </ol>

        <h4>Functions</h4>
        <ol start="1">
            <li>
                <p><strong><code>get_scoreboard_coordinates(image)</code></strong>:</p>
                <ul>
                    <li>
                        <p>Detects the scoreboard region in an image using edge and line detection.</p>
                    </li>
                    <li>
                        <p>Returns the bounding box coordinates of the scoreboard.</p>
                    </li>
                </ul>
            </li>
            <li>
                <p><strong><code>extract_scoreboard(image, x1, y1, x2, y2)</code></strong>:</p>
                <ul>
                    <li>
                        <p>Extracts the scoreboard region from the image using the provided bounding box coordinates.
                        </p>
                    </li>
                </ul>
            </li>
            <li>
                <p><strong><code>find_scores(image, confidence_threshold)</code></strong>:</p>
                <ul>
                    <li>
                        <p>Uses OCR to detect and extract coordinates of numeric scores (e.g., "0") in the scoreboard
                            region.
                        </p>
                    </li>
                </ul>
            </li>
            <li>
                <p><strong><code>fetch_score_coords(file_path)</code></strong>:</p>
                <ul>
                    <li>
                        <p>Processes a video file to detect and extract the absolute coordinates of scores.</p>
                    </li>
                </ul>
            </li>
            <li>
                <p><strong><code>get_score_value(frame, coords)</code></strong>:</p>
                <ul>
                    <li>
                        <p>Extracts the numeric score value from a frame using OCR based on the provided coordinates.
                        </p>
                    </li>
                </ul>
            </li>
            <li>
                <p><strong><code>process_frame(frame, score_coords, prev_value, points, timestamp)</code></strong>:</p>
                <ul>
                    <li>
                        <p>Processes a video frame to detect changes in the score value and records timestamps of score
                            updates.
                        </p>
                    </li>
                </ul>
            </li>
            <li>
                <p><strong><code>analyze_segment(file_path, score_coords, segment_number, masterfile)</code></strong>:
                </p>
                <ul>
                    <li>
                        <p>Analyzes a video segment to detect score changes and displays the video with real-time score
                            detection.</p>
                    </li>
                </ul>
            </li>
        </ol>


        <h4>Test Results</h4>
        <p>The testing phase successfully demonstrated the detection of various types of scoreboards across multiple
            games</p>
        <div class="grid grid-cols-1 lg:grid-cols-2">
            <img src="Images/TestImage1.png" alt="">
            <img src="Images/TestImage2.png" alt="">
            <img src="Images/TestImage3.png" alt="">
            <img src="Images/TestImage4.png" alt="">
        </div>

        <h4>Final Output</h4>
        <p>The module successfully processed a 120-second clip, accurately detecting and tracking baskets throughout the
            duration.
            The system demonstrated full functionality, effectively identifying scoring events in real-time.</p>
        <div>
            <video src="Images/FinalOutput.mp4" autoplay controls></video>
        </div>
    </main>

    <script src="../frontend/static/ReportsFormatter.js"></script>

</body>

</html>